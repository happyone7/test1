# Sprint 4 계획서 — "플레이 가능한 수직 슬라이스"

**프로젝트**: Soulspire
**작성일**: 2026-02-15
**작성자**: PM (project-manager)
**결재**: 총괄PD (승인 대기)
**선행 조건**: Sprint 3 Phase 3 머지 + 통합 QA 완료 후 착수

---

## 스프린트 목표

Sprint 3까지 4종 타워, 스킬트리 UI, 웨이브 데이터 40개, Tilemap 시스템이 완성되었다.
Sprint 4는 **"Stage 1~3을 완전히 플레이 가능한 수직 슬라이스로 완성"** 하는 것이 목표다.

죽음 -> Hub 스킬트리 -> 영구 성장 -> 재시도 -> 첫 클리어 -> 보상 -> 다음 스테이지 해금의 **전체 루프**가 30분~1시간 플레이로 체험 가능해야 한다.

### 핵심 목표 5가지

| # | 목표 | 근거 |
|---|------|------|
| G1 | **코어 루프 e2e 완성** | 영구 업그레이드 -> 인게임 반영 -> 런 종료 -> Hub -> 재시도가 끊김 없이 동작 |
| G2 | **타워 합성 시스템** | 총괄PD 확정: 풀 합성 (드래그&드롭, 같은 타워 겹쳐 합성) |
| G3 | **보스 + 스테이지 클리어 + 해금** | 보스 처치 = 클리어 판정, 조건 해금(Bit/킬 누적) |
| G4 | **보물상자 시스템** | 로그라이크 요소: 보물상자 드랍 -> 3택 선택지 |
| G5 | **밸런스 이터레이션 + 빌드** | Stage 1~3 반복 플레이 밸런싱, Steam dev_test 업로드 |

### 이번 스프린트에서 제외

- Stage 4~10 데이터 (Stage 1~3 수직 슬라이스에 집중)
- Lightning/Laser/Void Tower 구현 (해금 시스템만 구조 구현, 실제 타워 코드는 후속)
- Idle Bit 수집기 (방치 시스템은 후순위)
- 사운드 폴리싱 (코어 루프 완성 우선)
- 모바일 UI 대응

---

## Phase 구성 개요

```
Phase 1: 코어 루프 완성 (기반 안정화)
    모든 팀 병렬 착수 가능
    ↓
Phase 2: 인게임 경험 보강 (핵심 신규 기능)
    Phase 1 완료 직후 착수, 일부 병렬 가능
    ↓
Phase 3: 연출 + 밸런스 + 빌드
    Phase 2 완료 후 착수
```

---

## Phase 1 — 코어 루프 완성

### 기획팀장 (game-designer)

| # | 태스크 | 산출물 | 예상 시간 |
|---|--------|--------|-----------|
| GD-1 | SO 수치 GDD v2.0 동기화 점검 | SO 에셋 수치가 GDD 부록 A/B와 일치하는지 확인, 불일치 수정 | ~20분 |
| GD-2 | 보스 Node SO 데이터 작성 (Stage 1~3) | BossNode_Stage1/2/3.asset (HP/속도/방어력/보상) | ~15분 |

### 프로그래밍팀장 (unity-gameplay-programmer)

| # | 태스크 | 산출물 | 예상 시간 |
|---|--------|--------|-----------|
| PG-1 | 영구 업그레이드 -> 인게임 반영 e2e 검증/수정 | Hub 스킬 구매 -> 다음 런 타워 데미지/공속 등에 곱연산 반영 확인 | ~25분 |
| PG-2 | 런 종료 -> Hub -> 스킬트리 -> 재시도 플로우 완성 | GameManager/RunManager 상태 전환 로직, 씬 전환 안정화 | ~25분 |

### UI팀장 (unity-ui-developer)

| # | 태스크 | 산출물 | 예상 시간 |
|---|--------|--------|-----------|
| UI-1 | 런 종료 화면 (RUN COMPLETE) 구현 | 도달 웨이브/처치 수/획득 Bit/[Hub으로]/[즉시 재시도] 버튼 | ~20분 |
| UI-2 | Hub <-> InGame 전환 UI 연결 확인 | 스테이지 선택 -> 인게임 진입 -> 런 종료 -> Hub 복귀 흐름 | ~10분 |

### QA팀장 (unity-qa-engineer)

| # | 태스크 | 산출물 | 예상 시간 |
|---|--------|--------|-----------|
| QA-1 | Stage 1 코어 루프 반복 플레이 테스트 | 5회 이상 런 반복, 영구 업그레이드 누적 동작 확인, QA 리포트 | ~20분 |

### 미투입 팀 (Phase 1)
- TA팀장: Phase 2에서 보스 스프라이트 제작
- 사운드 디렉터: Phase 3에서 연출 사운드
- 빌더: Phase 3에서 빌드
- PM: 진행 현황 문서 갱신 (상시)

---

## Phase 2 — 인게임 경험 보강

### 기획팀장 (game-designer)

| # | 태스크 | 산출물 | 예상 시간 |
|---|--------|--------|-----------|
| GD-3 | 보물상자 선택지 데이터 설계 | TreasureChoice SO 12~15종 (공격력+/공속+/Bit보너스/사거리+ 등) | ~20분 |
| GD-4 | 스테이지 해금 조건 데이터 | Stage 2: 보스 처치, Stage 3: Bit 500 누적 등 (StageUnlock SO) | ~10분 |

### 프로그래밍팀장 (unity-gameplay-programmer)

| # | 태스크 | 산출물 | 예상 시간 |
|---|--------|--------|-----------|
| PG-3 | 타워 드래그&드롭 합성 시스템 | 인벤토리 -> 맵 드래그 배치, 같은 타워 위 드래그 = 합성(Lv+1) | ~30분 |
| PG-4 | 보스 Node 구현 | BossNode 클래스 (높은 HP/방어력, 스테이지별 SO 참조) | ~20분 |
| PG-5 | Stage 클리어 판정 (보스 처치) + 보상 흐름 | 보스 처치 -> STAGE CLEAR 판정 -> Core 보상 -> Hub 복귀 | ~20분 |
| PG-6 | 스테이지 조건 해금 시스템 | StageManager: 조건(보스 처치/Bit 누적/킬 누적) 충족 시 다음 스테이지 해금 | ~20분 |
| PG-7 | 보물상자 시스템 (드랍 + 3택 선택지) | 웨이브 클리어 시 확률 드랍, 3택 중 1택 적용 | ~25분 |

### UI팀장 (unity-ui-developer)

| # | 태스크 | 산출물 | 예상 시간 |
|---|--------|--------|-----------|
| UI-3 | 보물상자 3택 선택 UI | 카드 3장 표시, 효과 설명, 선택 시 적용 연출 | ~25분 |
| UI-4 | 보스 HP바 UI | 화면 상단 보스 전용 HP바 (이름 + 체력) | ~15분 |
| UI-5 | Stage 클리어 화면 (STAGE CLEAR) | Core 획득 연출, 다음 스테이지 해금 안내, [Hub으로]/[다음 스테이지] 버튼 | ~20분 |
| UI-6 | 타워 인벤토리 + 드래그 배치 UI | 하단 인벤토리 슬롯, 드래그 고스트 이미지, 배치/합성 하이라이트 | ~25분 |

### TA팀장 (unity-technical-artist)

| # | 태스크 | 산출물 | 예상 시간 |
|---|--------|--------|-----------|
| TA-1 | 보스 Node 스프라이트 3종 (Stage 1~3) | 다크 판타지 스타일, 일반 Node 대비 2~3배 크기 | ~25분 |
| TA-2 | 보물상자 스프라이트 + 오픈 이펙트 | 상자 아이콘, 열리는 파티클 이펙트 | ~20분 |

### QA팀장 (unity-qa-engineer)

| # | 태스크 | 산출물 | 예상 시간 |
|---|--------|--------|-----------|
| QA-2 | Phase 2 각 팀 dev/* 브랜치 단위 QA | 합성/보스/클리어/해금/보물상자 개별 검증 | ~25분 |

---

## Phase 3 — 연출 + 밸런스 + 빌드

### 기획팀장 (game-designer)

| # | 태스크 | 산출물 | 예상 시간 |
|---|--------|--------|-----------|
| GD-5 | Stage 1~3 밸런스 이터레이션 | QA 피드백 기반 SO 수치 조정 (웨이브 구성/보스 HP/보상량) | ~20분 |

### 프로그래밍팀장 (unity-gameplay-programmer)

| # | 태스크 | 산출물 | 예상 시간 |
|---|--------|--------|-----------|
| PG-8 | 배속 모드 구현 (x1/x2/x3) | Time.timeScale 제어, UI 배속 버튼 연동 | ~15분 |
| PG-9 | 버그 수정 (QA 피드백 대응) | QA에서 보고된 이슈 수정 | ~20분 |

### UI팀장 (unity-ui-developer)

| # | 태스크 | 산출물 | 예상 시간 |
|---|--------|--------|-----------|
| UI-7 | 런 종료/클리어 연출 개선 | 화면 전환 애니메이션, Bit/Core 카운트업 연출 | ~15분 |
| UI-8 | 배속 버튼 UI | x1/x2/x3 토글 버튼 (하단 우측) | ~10분 |

### TA팀장 (unity-technical-artist)

| # | 태스크 | 산출물 | 예상 시간 |
|---|--------|--------|-----------|
| TA-3 | 합성 강화 이펙트 | 타워 합성 시 번쩍임 파티클 + 레벨업 텍스트 팝업 | ~15분 |

### 사운드 디렉터 (unity-sound-director)

| # | 태스크 | 산출물 | 예상 시간 |
|---|--------|--------|-----------|
| SD-1 | 보스 등장/처치 SFX | 보스 등장 경고음, 처치 팡파레 | ~15분 |
| SD-2 | 보물상자 오픈 SFX | 상자 드랍음, 오픈음, 선택 확인음 | ~10분 |

### QA팀장 (unity-qa-engineer)

| # | 태스크 | 산출물 | 예상 시간 |
|---|--------|--------|-----------|
| QA-3 | Stage 1~3 통합 QA | 전체 플로우 검증 (Hub -> Stage 1 -> 클리어 -> 해금 -> Stage 2 -> ... -> Stage 3) | ~25분 |
| QA-4 | 밸런스 QA 피드백 | Stage별 죽음 시점, 클리어 난이도, 보상 체감 등 기획 피드백 | ~15분 |

### 빌더 (unity-build-engineer)

| # | 태스크 | 산출물 | 예상 시간 |
|---|--------|--------|-----------|
| BLD-1 | Windows 빌드 + Steam dev_test 업로드 | SteamBuild/content/MyGame.exe, dev_test 브랜치 라이브 | ~15분 |

### PM (project-manager)

| # | 태스크 | 산출물 | 예상 시간 |
|---|--------|--------|-----------|
| PM-1 | Sprint4_Progress.md 진행 현황 갱신 | Phase별 완료/진행/대기 상태 실시간 추적 | 상시 |

---

## 업무 의존성

```
Phase 1 (병렬 착수)
├─ [기획: GD-1 SO 동기화] ─────────────────────────────────────────┐
├─ [기획: GD-2 보스 SO] ──────────────────────────┐                 │
├─ [프로그래밍: PG-1 영구업그레이드 e2e] ───────────┤                 │
├─ [프로그래밍: PG-2 런종료->Hub 플로우] ───────────┤                 │
├─ [UI: UI-1 런 종료 화면] ─────────────────────────┤                 │
├─ [UI: UI-2 Hub<->InGame 전환] ───────────────────┤                 │
│                                                   ↓                 │
│                                       [QA: QA-1 코어 루프 테스트] ──┤
│                                                                     │
Phase 2 (Phase 1 완료 후, 내부 병렬)                                   │
├─ [기획: GD-3 보물상자 데이터] ───────→ [PG-7 보물상자 시스템] ──→ [UI-3 보물상자 UI]
├─ [기획: GD-4 해금 조건 데이터] ──────→ [PG-6 해금 시스템]
├─ [PG-3 타워 합성] ─────────────────→ [UI-6 인벤토리+드래그 UI]
├─ [GD-2 보스 SO] ──→ [PG-4 보스 Node] ──→ [PG-5 클리어 판정]
│                                                ↓
│                                          [UI-4 보스 HP바]
│                                          [UI-5 클리어 화면]
├─ [TA-1 보스 스프라이트] ──────────────── (PG-4와 병렬, 스프라이트 적용은 PG-4 후)
├─ [TA-2 보물상자 스프라이트] ──────────── (PG-7과 병렬)
│                                                   ↓
│                                       [QA-2 Phase 2 단위 QA]
│                                                   ↓
Phase 3 (Phase 2 QA 통과 후)
├─ [기획: GD-5 밸런스 이터레이션] ──────── (QA-4 피드백 반영)
├─ [PG-8 배속 모드] ──→ [UI-8 배속 버튼]
├─ [PG-9 버그 수정] ──── (QA-2 이슈 대응)
├─ [UI-7 연출 개선]
├─ [TA-3 합성 이펙트]
├─ [SD-1 보스 SFX]
├─ [SD-2 보물상자 SFX]
│                           ↓
│               [QA-3 Stage 1~3 통합 QA]
│               [QA-4 밸런스 QA 피드백]
│                           ↓
│               [GD-5 밸런스 수치 재조정] (필요 시)
│                           ↓
│               [BLD-1 빌드 + Steam 업로드] ── 선행: 통합 QA 통과 + 총괄PD 승인
```

---

## 파일 소유권 (충돌 방지)

| 파일/영역 | 소유자 |
|-----------|--------|
| SO 에셋 (수치 데이터) | 기획팀장 |
| Assets/Scripts/Gameplay/** (Tower/Node/Run/Stage 로직) | 프로그래밍팀장 |
| Assets/Scripts/UI/** | UI팀장 |
| Assets/Art/Sprites/** | TA팀장 |
| Assets/Art/VFX/** | TA팀장 |
| Assets/Audio/** | 사운드 디렉터 |
| 씬 파일 (GameScene, HubScene) | 작업 팀장이 자기 dev/* 브랜치에서만 수정 |
| SteamBuild/** | 빌더 |
| Docs/Sprint4_Progress.md | PM |

---

## Git 브랜칭 (Sprint 3 정책 계승)

```
sprint4                   ← 메인 작업 브랜치 (QA팀장만 머지 가능)
  ├─ dev/programmer       ← 프로그래밍팀장
  ├─ dev/ui               ← UI팀장
  ├─ dev/ta               ← TA팀장
  ├─ dev/game-designer    ← 기획팀장
  ├─ dev/sound            ← 사운드 디렉터
  └─ dev/build            ← 빌더
```

**워크플로우**: 팀장 dev/* 작업 + 자체 QA + 커밋 -> QA팀장 검증 -> sprint4 머지

**sprint4 브랜치 생성**: Sprint 3 통합 QA + 머지 완료된 sprint3에서 분기

---

## 완료 기준

모든 항목 충족 시 Sprint 4 완료:

### Phase 1
- [ ] 영구 업그레이드(Hub 스킬트리)가 인게임 타워 수치에 곱연산 반영됨
- [ ] 런 종료 -> Hub -> 스킬트리 -> 스테이지 선택 -> 재시도 플로우가 끊김 없이 동작
- [ ] 런 종료 화면(RUN COMPLETE)에 도달 웨이브/처치 수/획득 Bit 표시됨
- [ ] Stage 1 반복 플레이 5회 이상 QA 통과

### Phase 2
- [ ] 타워 드래그&드롭 배치 동작 (인벤토리 -> 맵 빈 격자)
- [ ] 같은 타워 합성 동작 (드래그 -> 같은 타워 위 = Lv+1, 최대 Lv5)
- [ ] 보스 Node가 각 Stage 최종 웨이브에 등장 (Stage 1~3)
- [ ] 보스 처치 = Stage 클리어 판정, Core 보상 지급
- [ ] Stage 클리어 시 다음 Stage 조건 해금 동작
- [ ] 보물상자 드랍 -> 3택 선택 -> 인게임 효과 적용
- [ ] 보스 HP바 UI 표시
- [ ] Stage 클리어 화면 (STAGE CLEAR + Core 획득 + 해금 안내)

### Phase 3
- [ ] 배속 모드 x1/x2/x3 동작
- [ ] 보스 등장/처치 SFX 적용
- [ ] 보물상자 오픈 SFX 적용
- [ ] 합성 강화 이펙트 동작
- [ ] Stage 1~3 통합 QA 통과 (Hub -> Stage 1 클리어 -> Stage 2 해금 -> Stage 2 클리어 -> Stage 3 해금 -> Stage 3 플레이)
- [ ] 밸런스 QA 피드백 반영 (Stage별 클리어 소요 런 횟수가 적정 범위)
- [ ] Windows 빌드 성공 + Steam dev_test 업로드 완료
- [ ] 총괄PD 빌드 승인

---

## 리스크 및 완화책

| 리스크 | 영향 | 완화 |
|--------|------|------|
| 타워 드래그&드롭 구현 복잡도 | 합성 UX + 인벤토리 관리가 예상보다 시간 소요 | Phase 2 내에서 프로그래밍+UI 병렬 진행, 최소 기능(클릭 배치)을 폴백으로 준비 |
| 보스 밸런싱 | HP가 너무 높으면 좌절, 너무 낮으면 허무 | GDD 기준 수치로 초기 세팅 후 QA 피드백으로 1~2회 이터레이션 |
| Sprint 3 Phase 3 머지 미완료 | Sprint 4 착수 지연 | Sprint 3 머지를 Sprint 4 착수 전 선행 조건으로 명시 |
| 씬 충돌 (다수 팀이 동시 수정) | 머지 실패, 작업물 손실 | 파일 소유권 엄격 준수, dev/* 브랜치 분리, 씬 수정은 한 팀씩 |

---

## 공수 산정 근거

| 항목 | 값 |
|------|-----|
| 투입 팀 | 7개 (기획/프로그래밍/UI/TA/QA/사운드/빌더) |
| 병렬 작업 가능 팀 수 | Phase 1: 4팀, Phase 2: 5팀, Phase 3: 7팀 |
| Phase 1 예상 소요 | ~30분 (병렬 기준) |
| Phase 2 예상 소요 | ~40분 (병렬 기준, 의존성 체인 고려) |
| Phase 3 예상 소요 | ~30분 (병렬 기준) |
| 총 예상 소요 | ~1.5~2시간 (Phase 간 QA 게이트 포함) |
| 총 태스크 수 | 27건 (기획 5, 프로그래밍 9, UI 8, TA 3, QA 4, 사운드 2, 빌드 1) |

---

## 다음 스프린트 예고 (Sprint 5 후보)

Sprint 4에서 제외된 작업 중 우선순위 높은 항목:

1. Stage 4~5 데이터 + 맵 레이아웃 (기획팀장)
2. Lightning Tower 구현 (프로그래밍팀장)
3. Idle Bit 수집기 구현 (프로그래밍팀장)
4. SaveManager JSON 저장/로드 (프로그래밍팀장)
5. 타워 판매 기능 (프로그래밍팀장)
6. 사운드 본격 폴리싱 (사운드 디렉터)
7. 온보딩/튜토리얼 팝업 (UI팀장)

---

## 주요 결정 사항

| 날짜 | 내용 | 비고 |
|------|------|------|
| 2026-02-15 | 타워 합성: 풀 합성 (드래그&드롭) 확정 | 총괄PD 결정 |
| 2026-02-15 | 로그라이크: 순수 영구 성장 + 보물상자(3택) 확정 | 총괄PD 결정 |
| 2026-02-15 | 메타 진행: 조건 해금 (클리어 불필수, Bit/킬 누적) 확정 | 총괄PD 결정 |
| 2026-02-15 | 타워 배치: 유지 (맵 바뀌면 초기화) 확정 | 총괄PD 결정 |
| 2026-02-15 | 클리어 판정: 보스 처치 확정 | 총괄PD 결정 |
