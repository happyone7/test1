# Nodebreaker TD - Game Design Document

| 항목 | 내용 |
|------|------|
| 문서 버전 | 1.0 |
| 최종 수정 | 2026-02-14 |
| 작성자 | Game Designer |

## 변경 이력

| 날짜 | 버전 | 내용 |
|------|------|------|
| 2026-02-14 | 1.0 | 초안 작성 |

---

## 1. 게임 개요

### 1.1 컨셉

**Nodebreaker TD**는 2D 탑뷰 타워 디펜스 게임이다. 플레이어는 정해진 경로를 따라 밀려오는 적을 막기 위해 타워를 배치하고, 웨이브를 모두 방어하면 승리한다.

핵심 키워드: **간결함, 명확한 피드백, 짧은 플레이 타임**

### 1.2 기본 정보

| 항목 | 값 |
|------|-----|
| 장르 | 2D 타워 디펜스 |
| 플랫폼 | Steam (Windows) |
| 엔진 | Unity 2022.3 LTS |
| 시점 | 탑다운 2D |
| 1회 플레이 시간 | 15~20분 |
| 스테이지 수 | 1개 (프로토타입) |
| 웨이브 수 | 12 웨이브 |
| App ID | 4426340 |

### 1.3 핵심 게임 루프

```
타워 배치 -> 웨이브 시작 -> 적 처치 -> 골드 획득 -> 타워 구매/업그레이드 -> 다음 웨이브
```

### 1.4 승리/패배 조건

- **승리**: 12 웨이브를 모두 방어
- **패배**: 플레이어 기지 HP가 0 이하

---

## 2. 핵심 시스템

### 2.1 맵 구조

- 고정된 적 이동 경로 1개 (S자 또는 ㄹ자 형태)
- 경로 양쪽에 타워 배치 가능한 슬롯 (격자 기반, 약 20~25개)
- 맵 크기: 16x10 유닛 (카메라 고정, 스크롤 없음)
- 입구 1개, 출구(기지) 1개

**맵 레이아웃 (개념도)**:
```
[입구]
  |
  v
  +---------+
  |         |
  +----+    |
       |    |
  +----+    |
  |         |
  +---------+
       |
       v
    [기지]
```

경로 위에는 타워를 놓을 수 없다. 타워는 경로 옆 빈 격자 칸에만 배치 가능하다.

### 2.2 타워 시스템

타워는 격자 칸에 배치한다. 같은 칸에 중복 배치 불가. 배치 후 판매(50% 환불) 가능.

#### 타워 공통 동작
1. 사거리 내 가장 앞에 있는 적을 자동 타겟팅 (First 방식)
2. 공격 쿨타임마다 투사체/효과 발사
3. 1단계 업그레이드 가능 (비용을 지불하여 강화)

### 2.3 적 시스템

적은 입구에서 스폰되어 정해진 경로를 따라 기지로 이동한다. 기지에 도달하면 기지 HP를 깎고 사라진다.

#### 적 공통 동작
1. 경로를 따라 일정 속도로 이동
2. HP가 0이 되면 사망, 골드 드롭
3. 특수 능력을 가진 적 존재 (빠른, 높은 HP, 방어력 등)

### 2.4 경제 시스템

| 항목 | 값 |
|------|-----|
| 시작 골드 | 200 |
| 적 처치 보상 | 적 종류별 상이 (5~30) |
| 웨이브 클리어 보너스 | 20 + (웨이브 번호 x 5) |
| 타워 판매 환불률 | 50% |

재화는 **골드** 1종류만 사용한다. 복잡한 경제 시스템 없이 "벌어서 쓴다"는 직관적 구조.

### 2.5 기지 HP

| 항목 | 값 |
|------|-----|
| 기지 최대 HP | 20 |
| 일반 적 기지 도달 시 데미지 | 1 |
| 대형 적 기지 도달 시 데미지 | 2 |
| 보스 기지 도달 시 데미지 | 5 |

기지 HP는 회복 수단이 없다. 적을 놓치지 않는 것이 중요하다는 긴장감을 준다.

---

## 3. 타워 상세

### 3.1 타워 목록

| ID | 이름 | 역할 | 공격 타입 |
|----|------|------|----------|
| T01 | Arrow Tower | 기본 단일 공격 | 단일 투사체 |
| T02 | Cannon Tower | 범위 공격 | 범위(AoE) 폭발 |
| T03 | Ice Tower | 감속 | 단일 + 감속 효과 |
| T04 | Lightning Tower | 연쇄 공격 | 다중 타겟 체인 |

### 3.2 타워 수치표

#### T01 - Arrow Tower (기본 공격 타워)

플레이어가 가장 먼저 접하는 타워. 저렴하고 안정적인 단일 대상 딜러.

| 스탯 | Lv1 | Lv2 |
|------|-----|-----|
| 비용 | 50G | +60G (총 110G) |
| 데미지 | 10 | 18 |
| 공격속도 (초) | 0.8 | 0.6 |
| 사거리 (유닛) | 3.0 | 3.5 |
| DPS | 12.5 | 30.0 |

설계 의도: 가장 비용 효율이 좋은 타워. 초반부터 후반까지 쓸 수 있는 범용 타워.

#### T02 - Cannon Tower (범위 공격 타워)

폭발 범위로 다수의 적을 동시에 타격. 느리지만 강력하다.

| 스탯 | Lv1 | Lv2 |
|------|-----|-----|
| 비용 | 80G | +100G (총 180G) |
| 데미지 | 25 | 45 |
| 공격속도 (초) | 1.5 | 1.2 |
| 사거리 (유닛) | 2.5 | 3.0 |
| 폭발 범위 (유닛) | 1.0 | 1.2 |
| DPS (단일) | 16.7 | 37.5 |

설계 의도: 밀집된 적 무리에 강하다. Arrow Tower와 조합하면 단일+다수 모두 커버 가능.

#### T03 - Ice Tower (감속 타워)

직접적인 딜보다 적의 이동속도를 낮춰 다른 타워의 공격 시간을 벌어준다.

| 스탯 | Lv1 | Lv2 |
|------|-----|-----|
| 비용 | 60G | +70G (총 130G) |
| 데미지 | 5 | 10 |
| 공격속도 (초) | 1.0 | 0.8 |
| 사거리 (유닛) | 3.0 | 3.5 |
| 감속률 | 30% | 50% |
| 감속 지속시간 (초) | 1.5 | 2.0 |

설계 의도: 단독으로는 약하지만, 다른 타워 앞에 배치하면 시너지가 크다. 전략적 배치를 유도.

#### T04 - Lightning Tower (연쇄 공격 타워)

공격이 적에게 맞은 뒤 주변 적에게 체인으로 전이된다.

| 스탯 | Lv1 | Lv2 |
|------|-----|-----|
| 비용 | 100G | +120G (총 220G) |
| 데미지 | 15 | 25 |
| 공격속도 (초) | 1.2 | 1.0 |
| 사거리 (유닛) | 3.0 | 3.5 |
| 체인 횟수 | 2 | 3 |
| 체인 데미지 감소 | 30% | 20% |

설계 의도: 후반에 해금하는 고급 타워. 다수의 적을 상대할 때 효율적이지만 비싸다.

### 3.3 타워 해금 순서

| 웨이브 | 해금 타워 |
|--------|----------|
| 시작 시 | Arrow Tower |
| 웨이브 2 | Ice Tower |
| 웨이브 4 | Cannon Tower |
| 웨이브 7 | Lightning Tower |

설계 의도: 한꺼번에 모든 타워를 주면 초보자가 혼란스럽다. 웨이브 진행에 따라 하나씩 해금하여 자연스럽게 학습시킨다.

---

## 4. 적 상세

### 4.1 적 목록

| ID | 이름 | 특성 | 등장 웨이브 |
|----|------|------|-----------|
| E01 | Scout | 기본 적 | 1~ |
| E02 | Runner | 빠른 이동 | 3~ |
| E03 | Tank | 높은 HP | 5~ |
| E04 | Shield | 방어력 보유 | 8~ |
| E05 | Boss | 보스 (매우 높은 HP) | 12 |

### 4.2 적 수치표

| ID | 이름 | HP | 이동속도 | 방어력 | 기지 데미지 | 처치 보상 |
|----|------|-----|---------|--------|-----------|----------|
| E01 | Scout | 30 | 1.5 | 0 | 1 | 5G |
| E02 | Runner | 20 | 2.5 | 0 | 1 | 8G |
| E03 | Tank | 120 | 1.0 | 0 | 2 | 15G |
| E04 | Shield | 60 | 1.2 | 5 | 1 | 12G |
| E05 | Boss | 500 | 0.8 | 3 | 5 | 100G |

- **이동속도**: 유닛/초. 기본값 1.5를 기준으로 조정.
- **방어력**: 받는 데미지에서 고정값 차감 (최소 데미지 1). Shield 적은 Arrow Tower로 처리하기 어렵게 설계.

### 4.3 적 설계 의도

| 적 | 어떤 상황을 만드는가 | 대응 타워 |
|----|-------------------|----------|
| Scout | 기본. 게임에 익숙해지는 용도 | Arrow Tower |
| Runner | 빠르게 지나가므로 감속이 필요 | Ice Tower + Arrow Tower |
| Tank | 단일 고HP. 집중 화력 필요 | Arrow Tower (다수) |
| Shield | 방어력으로 약한 공격 무효화 | Cannon Tower, Lightning Tower |
| Boss | 최종 시험. 모든 자원을 투입해야 처치 | 전체 타워 조합 |

---

## 5. 웨이브 구성표

### 5.1 웨이브 규칙

- 웨이브 간 준비 시간: 15초 (타워 배치/업그레이드 시간)
- 각 웨이브 내 적 스폰 간격: 0.8~1.2초
- 웨이브 시작은 수동 (준비 완료 버튼) + 자동(15초 타이머)

### 5.2 웨이브 상세

| 웨이브 | 구성 | 적 수 | 예상 보상 | 웨이브 보너스 | 난이도 의도 |
|--------|------|-------|----------|-------------|-----------|
| 1 | Scout x8 | 8 | 40G | 25G | 튜토리얼. Arrow Tower 학습 |
| 2 | Scout x10 | 10 | 50G | 30G | Ice Tower 해금. 수량 증가 |
| 3 | Scout x6, Runner x4 | 10 | 62G | 35G | Runner 등장. 감속 필요성 학습 |
| 4 | Scout x8, Runner x5 | 13 | 80G | 40G | Cannon Tower 해금. 다수 적 대응 |
| 5 | Scout x5, Runner x3, Tank x2 | 10 | 79G | 45G | Tank 등장. 화력 집중 필요 |
| 6 | Runner x6, Tank x3 | 9 | 93G | 50G | 빠른 적 + 단단한 적 혼합 |
| 7 | Scout x8, Tank x3, Runner x4 | 15 | 117G | 55G | Lightning 해금. 대규모 웨이브 |
| 8 | Runner x5, Tank x2, Shield x4 | 11 | 118G | 60G | Shield 등장. 방어력 대응 |
| 9 | Scout x10, Shield x5, Tank x3 | 18 | 155G | 65G | 대규모 혼합 |
| 10 | Runner x8, Shield x6, Tank x4 | 18 | 196G | 70G | 고난이도 혼합 |
| 11 | Tank x5, Shield x6, Runner x8 | 19 | 211G | 75G | 최종 준비 웨이브 |
| 12 | Scout x10, Runner x6, Tank x3, Shield x4, Boss x1 | 24 | 293G | 80G | 최종 보스 웨이브 |

### 5.3 경제 밸런스 검증

| 웨이브 | 누적 수입 (보상+보너스) | 주요 지출 목표 |
|--------|----------------------|--------------|
| 1 | 265G (시작200+65) | Arrow Tower x2 (100G) |
| 2 | 345G | Arrow Tower x1 추가 (50G) |
| 3 | 442G | Ice Tower x1 (60G) |
| 4 | 562G | Cannon Tower x1 (80G) |
| 5 | 686G | Arrow 업그레이드 x1 (60G) |
| 6 | 829G | Ice 업그레이드 or Cannon 추가 |
| 7 | 1001G | Lightning Tower x1 (100G) |
| 8 | 1179G | 업그레이드 추가 투자 |
| 9 | 1399G | 타워 추가 배치 |
| 10 | 1665G | 전면 업그레이드 |
| 11 | 1951G | 최종 보강 |
| 12 | 2324G | 보스전 준비 완료 |

설계 의도: 플레이어가 모든 골드를 최적으로 쓸 수 없다는 전제 하에, 총 수입의 약 70%를 사용하면 클리어 가능하도록 조정. 약간의 여유를 두어 실수를 허용한다.

---

## 6. UI 설계

### 6.1 HUD 구성

```
+--------------------------------------------------+
| Wave: 3/12          Gold: 350       Lives: 18/20  |
+--------------------------------------------------+
|                                                    |
|                                                    |
|                    [게임 맵]                        |
|                                                    |
|                                                    |
+--------------------------------------------------+
| [Arrow]  [Ice]  [Cannon]  [Lightning]  | [Start] |
|  50G      60G    80G       100G        | Wave!   |
+--------------------------------------------------+
```

- **상단 바**: 현재 웨이브, 골드, 기지 HP
- **하단 바**: 타워 선택 패널 + 웨이브 시작 버튼
- 해금되지 않은 타워는 잠금 아이콘 + 회색 처리

### 6.2 타워 배치 플로우

1. 하단 패널에서 타워 아이콘 클릭
2. 마우스를 맵 위로 이동 (배치 가능 칸: 초록, 불가: 빨강)
3. 클릭하여 배치 확정
4. 우클릭으로 배치 취소

### 6.3 타워 선택 (배치된 타워 클릭)

```
+-------------------+
| Arrow Tower Lv1   |
| DMG: 10  SPD: 0.8 |
| Range: 3.0        |
|                   |
| [Upgrade 60G]     |
| [Sell 25G]        |
+-------------------+
```

- 배치된 타워를 클릭하면 정보 팝업 표시
- 업그레이드 버튼 (골드 부족 시 비활성)
- 판매 버튼 (비용의 50% 환불)
- 사거리 범위 시각적 표시 (반투명 원)

### 6.4 게임 오버 / 클리어 화면

- **클리어**: "STAGE CLEAR!" + 남은 기지 HP 표시 + 재시작/종료 버튼
- **게임 오버**: "GAME OVER" + 도달 웨이브 표시 + 재시작/종료 버튼

---

## 7. 게임 플로우

### 7.1 전체 플로우

```
[타이틀 화면] -> [게임 시작] -> [웨이브 루프] -> [클리어/게임오버] -> [타이틀]
```

### 7.2 타이틀 화면

- 게임 로고
- "Start Game" 버튼
- "Quit" 버튼
- 설정이나 크레딧은 프로토타입에서 생략

### 7.3 인게임 플로우 (웨이브 루프)

```
1. 준비 페이즈 (타워 배치/업그레이드)
   - 첫 웨이브: 시작 골드 200G로 초기 배치
   - 이후: 이전 웨이브 보상으로 보강

2. [Start Wave] 버튼 클릭 or 15초 자동 시작

3. 전투 페이즈
   - 적 스폰 및 이동
   - 타워 자동 공격
   - 적 처치 시 골드 획득 (화면에 +5G 등 표시)
   - 전투 중에도 타워 배치/업그레이드 가능

4. 웨이브 종료 (모든 적 처치 or 통과)
   - 웨이브 보너스 골드 지급
   - 다음 웨이브 준비 페이즈로

5. 12웨이브 클리어 시 승리 / 기지 HP 0 시 패배
```

---

## 8. 튜토리얼 (인게임 안내)

별도 튜토리얼 모드 없이, 초반 웨이브에서 간단한 텍스트 안내를 표시한다.

| 시점 | 안내 내용 |
|------|----------|
| 게임 시작 | "타워를 배치하여 적을 막으세요!" |
| 웨이브 1 시작 전 | "하단에서 Arrow Tower를 선택하고 맵에 배치하세요" |
| 첫 적 처치 | "적을 처치하면 골드를 얻습니다" |
| 웨이브 2 (Ice 해금) | "Ice Tower가 해금되었습니다! 적을 느리게 만듭니다" |
| 웨이브 4 (Cannon 해금) | "Cannon Tower 해금! 범위 공격으로 다수의 적을 처리하세요" |
| 웨이브 7 (Lightning 해금) | "Lightning Tower 해금! 공격이 여러 적에게 연쇄됩니다" |

화면 상단에 반투명 배너로 2~3초간 표시 후 자동 사라짐.

---

## 9. 시각/오디오 방향

### 9.1 아트 스타일

- **2D 심플 스프라이트**: 3주 일정에 맞춰 단순한 도형 기반 그래픽
- 타워: 색상으로 구분 (회색=Arrow, 파랑=Ice, 주황=Cannon, 노랑=Lightning)
- 적: 원형/사각형 실루엣에 색상 변화
- 배경: 단색 격자 맵
- Unity 2D Sprite 사용, 에셋스토어 무료 에셋 활용 가능

### 9.2 사운드 (최소)

- 타워 공격 효과음 (종류별 1개씩, 총 4개)
- 적 사망 효과음 1개
- 웨이브 시작/종료 효과음
- BGM 1곡 (무료 에셋 또는 생략)

---

## 10. 기술 구현 노트

### 10.1 필요한 주요 스크립트

| 스크립트 | 역할 |
|---------|------|
| GameManager | 게임 상태 관리 (웨이브, 골드, HP) |
| WaveManager | 웨이브 스폰 로직 |
| Tower (base) | 타워 기본 클래스 (타겟팅, 공격) |
| ArrowTower, CannonTower, IceTower, LightningTower | 타워별 파생 클래스 |
| Enemy (base) | 적 기본 클래스 (이동, HP) |
| Projectile | 투사체 이동 및 충돌 |
| TowerSlot | 배치 가능 칸 관리 |
| UIManager | HUD, 타워 선택 UI |
| TowerShop | 타워 구매/업그레이드/판매 |

### 10.2 데이터 관리

- 타워/적 수치는 ScriptableObject로 관리
- 웨이브 구성도 ScriptableObject 배열로 정의
- 하드코딩 최소화, Inspector에서 조정 가능하게

### 10.3 개발 우선순위 (3주 일정)

| 주차 | 목표 |
|------|------|
| 1주차 | 코어 시스템: 맵/경로, 적 이동, Arrow Tower 배치 및 공격, 기본 UI |
| 2주차 | 나머지 타워 3종, 적 5종, 웨이브 시스템, 경제 시스템, 타워 업그레이드 |
| 3주차 | 밸런싱, UI 마무리, 사운드, 버그 수정, Steam 빌드 및 업로드 |

---

## 11. 밸런스 설계 근거

### 11.1 DPS 대 적 HP 관계

웨이브 1 기준으로 역산:
- Scout HP 30, Arrow Tower DPS 12.5
- Arrow Tower 1대로 Scout 1마리 처치: 약 2.4초
- 적 스폰 간격 1초, 8마리 = 8초간 스폰
- Arrow Tower 2대면 DPS 25, 충분히 처리 가능
- 시작 골드 200G로 Arrow 2대(100G) 배치 후 100G 여유 -> 합리적

### 11.2 후반 밸런스

웨이브 12 보스(HP 500, 방어력 3):
- Arrow Lv2 실효 DPS: (18-3)/0.6 = 25
- Cannon Lv2 실효 DPS: (45-3)/1.2 = 35 (단일 기준)
- Lightning Lv2 실효 DPS: (25-3)/1.0 = 22 + 체인
- 타워 5~6대 총 DPS 약 150 가정 -> 보스 처치 시간 약 3.3초
- 경로 이동 시간(속도 0.8, 경로 약 20유닛) = 25초 -> 충분한 여유

### 11.3 방어력 시스템이 만드는 전략

Shield 적(방어력 5)에 대해:
- Arrow Lv1 실효 데미지: 10-5 = 5 (50% 감소)
- Cannon Lv1 실효 데미지: 25-5 = 20 (20% 감소)
- 방어력이 높은 적에게는 단일 고데미지 타워가 효율적 -> 타워 선택에 의미 부여

---

## 부록: 전체 수치 요약

### A. 타워 전체 수치

| 타워 | Lv | 비용 | 누적비용 | 데미지 | 공속(초) | 사거리 | DPS | 특수 |
|------|-----|------|---------|--------|---------|--------|-----|------|
| Arrow | 1 | 50 | 50 | 10 | 0.8 | 3.0 | 12.5 | - |
| Arrow | 2 | 60 | 110 | 18 | 0.6 | 3.5 | 30.0 | - |
| Cannon | 1 | 80 | 80 | 25 | 1.5 | 2.5 | 16.7 | AoE 1.0 |
| Cannon | 2 | 100 | 180 | 45 | 1.2 | 3.0 | 37.5 | AoE 1.2 |
| Ice | 1 | 60 | 60 | 5 | 1.0 | 3.0 | 5.0 | 감속30% 1.5s |
| Ice | 2 | 70 | 130 | 10 | 0.8 | 3.5 | 12.5 | 감속50% 2.0s |
| Lightning | 1 | 100 | 100 | 15 | 1.2 | 3.0 | 12.5 | 체인2, -30% |
| Lightning | 2 | 120 | 220 | 25 | 1.0 | 3.5 | 25.0 | 체인3, -20% |

### B. 적 전체 수치

| 적 | HP | 속도 | 방어력 | 기지DMG | 보상 |
|----|-----|------|--------|---------|------|
| Scout | 30 | 1.5 | 0 | 1 | 5G |
| Runner | 20 | 2.5 | 0 | 1 | 8G |
| Tank | 120 | 1.0 | 0 | 2 | 15G |
| Shield | 60 | 1.2 | 5 | 1 | 12G |
| Boss | 500 | 0.8 | 3 | 5 | 100G |

### C. 웨이브 전체 구성

| Wave | Scout | Runner | Tank | Shield | Boss | 총 적수 | 예상 수입 |
|------|-------|--------|------|--------|------|--------|----------|
| 1 | 8 | - | - | - | - | 8 | 65G |
| 2 | 10 | - | - | - | - | 10 | 80G |
| 3 | 6 | 4 | - | - | - | 10 | 97G |
| 4 | 8 | 5 | - | - | - | 13 | 120G |
| 5 | 5 | 3 | 2 | - | - | 10 | 124G |
| 6 | - | 6 | 3 | - | - | 9 | 143G |
| 7 | 8 | 4 | 3 | - | - | 15 | 172G |
| 8 | - | 5 | 2 | 4 | - | 11 | 178G |
| 9 | 10 | - | 3 | 5 | - | 18 | 220G |
| 10 | - | 8 | 4 | 6 | - | 18 | 266G |
| 11 | - | 8 | 5 | 6 | - | 19 | 286G |
| 12 | 10 | 6 | 3 | 4 | 1 | 24 | 373G |
